"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[4273],{26406(e,n,i){i.d(n,{R:()=>l,x:()=>o});var s=i(22155);let r={},t=s.createContext(r);function l(e){let n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(t.Provider,{value:n},e.children)}},79316(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>c});let s=JSON.parse('{"id":"plugin-development/index","title":"Plugin Development","description":"How to create plugins for a16n","source":"@site/.generated/plugin-development/index.md","sourceDirName":"plugin-development","slug":"/plugin-development/","permalink":"/a16n/plugin-development/","draft":false,"unlisted":false,"editUrl":"https://github.com/Texarkanine/a16n/tree/main/packages/docs/docs/.generated/plugin-development/index.md","tags":[],"version":"current","frontMatter":{"title":"Plugin Development","description":"How to create plugins for a16n"},"sidebar":"tutorialSidebar","previous":{"title":"Understanding Conversions","permalink":"/a16n/understanding-conversions/"},"next":{"title":"FAQ","permalink":"/a16n/faq"}}');var r=i(65723),t=i(26406);let l={title:"Plugin Development",description:"How to create plugins for a16n"},o="Plugin Development",d={},c=[{value:"Overview",id:"overview",level:2},{value:"Plugin Interface",id:"plugin-interface",level:2},{value:"Key Concepts",id:"key-concepts",level:2},{value:"Customization Types",id:"customization-types",level:3},{value:"Discovery",id:"discovery",level:3},{value:"Emission",id:"emission",level:3},{value:"Project Structure",id:"project-structure",level:2},{value:"Learning from Existing Plugins",id:"learning-from-existing-plugins",level:2},{value:"@a16njs/plugin-cursor",id:"a16njsplugin-cursor",level:3},{value:"@a16njs/plugin-claude",id:"a16njsplugin-claude",level:3},{value:"Publishing",id:"publishing",level:2},{value:"See Also",id:"see-also",level:2}];function a(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"plugin-development",children:"Plugin Development"})}),"\n",(0,r.jsx)(n.admonition,{title:"Work in Progress",type:"danger",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"This library is currently in early development (pre-1.0)."})," The plugin API is subject to change without notice. If you're interested in building a plugin, please wait until the API stabilizes or be prepared to update your code frequently."]})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"a16n uses a plugin architecture to support different AI coding tools. Each plugin handles:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Discovery"})," - Finding agent customization files in a project"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Emission"})," - Writing converted files to the target format"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"plugin-interface",children:"Plugin Interface"}),"\n",(0,r.jsxs)(n.p,{children:["Plugins implement the ",(0,r.jsx)(n.code,{children:"A16nPlugin"})," interface from ",(0,r.jsx)(n.code,{children:"@a16njs/models"}),". See the ",(0,r.jsx)(n.a,{href:"/models/api",children:"Models API Reference"})," for complete interface documentation."]}),"\n",(0,r.jsx)(n.p,{children:"The key methods are:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"discover(root)"})})," - Scan a directory and return found customizations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"emit(models, root, options)"})})," - Write customizations to disk in the plugin's format"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import type { A16nPlugin } from '@a16njs/models';\nimport { CustomizationType } from '@a16njs/models';\n\nconst myPlugin: A16nPlugin = {\n  id: 'my-agent',\n  name: 'My Agent',\n  supports: [CustomizationType.GlobalPrompt, CustomizationType.FileRule],\n  \n  async discover(root: string) {\n    // Return { items: [...], warnings: [...] }\n  },\n  \n  async emit(models, root, options) {\n    // Return { written: [...], warnings: [...], unsupported: [...] }\n  }\n};\n\nexport default myPlugin;\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,r.jsx)(n.h3,{id:"customization-types",children:"Customization Types"}),"\n",(0,r.jsxs)(n.p,{children:["Plugins declare which types they support via the ",(0,r.jsx)(n.code,{children:"supports"})," array:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"GlobalPrompt"})," - Always-applied system prompts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SimpleAgentSkill"})," - Description-triggered contextual rules"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"FileRule"})," - File pattern-triggered rules"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AgentIgnore"})," - File ignore patterns"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ManualPrompt"})," - Slash commands"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"/understanding-conversions",children:"Understanding Conversions"})," for detailed explanations."]}),"\n",(0,r.jsx)(n.h3,{id:"discovery",children:"Discovery"}),"\n",(0,r.jsx)(n.p,{children:"Discovery scans a project directory and returns customizations in the intermediate representation:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"async discover(root: string): Promise<DiscoveryResult> {\n  const items: AgentCustomization[] = [];\n  const warnings: Warning[] = [];\n  \n  // Scan for config files specific to this tool\n  // Parse and convert to AgentCustomization items\n  \n  return { items, warnings };\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"emission",children:"Emission"}),"\n",(0,r.jsx)(n.p,{children:"Emission converts intermediate representation back to the plugin's native format:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"async emit(\n  items: AgentCustomization[],\n  root: string,\n  options?: EmitOptions\n): Promise<EmitResult> {\n  const written: WrittenFile[] = [];\n  const warnings: Warning[] = [];\n  const unsupported: AgentCustomization[] = [];\n\n  for (const item of items) {\n    if (this.supports.includes(item.type)) {\n      // Convert and write file\n    } else {\n      unsupported.push(item);\n    }\n  }\n\n  return { written, warnings, unsupported };\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,r.jsx)(n.p,{children:"Recommended plugin structure:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"packages/plugin-example/\n\u251C\u2500\u2500 src/\n\u2502   \u251C\u2500\u2500 index.ts        # Plugin entry point & exports\n\u2502   \u251C\u2500\u2500 discover.ts     # Discovery logic\n\u2502   \u2514\u2500\u2500 emit.ts         # Emission logic\n\u251C\u2500\u2500 test/\n\u2502   \u251C\u2500\u2500 fixtures/       # Test fixtures\n\u2502   \u251C\u2500\u2500 discover.test.ts\n\u2502   \u2514\u2500\u2500 emit.test.ts\n\u251C\u2500\u2500 package.json\n\u251C\u2500\u2500 tsconfig.json\n\u2514\u2500\u2500 README.md\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"learning-from-existing-plugins",children:"Learning from Existing Plugins"}),"\n",(0,r.jsx)(n.p,{children:"The best way to understand plugin development is to study the existing implementations:"}),"\n",(0,r.jsx)(n.h3,{id:"a16njsplugin-cursor",children:(0,r.jsx)(n.a,{href:"/plugin-cursor",children:"@a16njs/plugin-cursor"})}),"\n",(0,r.jsx)(n.p,{children:"The Cursor plugin demonstrates:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"MDC file parsing (YAML frontmatter + markdown body)"}),"\n",(0,r.jsx)(n.li,{children:"Multiple file types (rules, commands, ignore files)"}),"\n",(0,r.jsx)(n.li,{children:"Frontmatter-based type classification"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Key files:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"discover.ts"})," - Glob-based file discovery, MDC parsing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"emit.ts"})," - MDC generation with proper frontmatter"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"mdc.ts"})," - MDC format utilities"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"a16njsplugin-claude",children:(0,r.jsx)(n.a,{href:"/plugin-claude",children:"@a16njs/plugin-claude"})}),"\n",(0,r.jsx)(n.p,{children:"The Claude plugin demonstrates:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Single-file aggregation (",(0,r.jsx)(n.code,{children:"CLAUDE.md"})," merging)"]}),"\n",(0,r.jsx)(n.li,{children:"Settings JSON handling"}),"\n",(0,r.jsx)(n.li,{children:"Hook configuration generation for FileRules"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Key files:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"discover.ts"})," - CLAUDE.md parsing, settings.json reading"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"emit.ts"})," - Section-based file merging, hook generation"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"publishing",children:"Publishing"}),"\n",(0,r.jsx)(n.p,{children:"Community plugins can be published to npm:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scoped"}),": ",(0,r.jsx)(n.code,{children:"@a16njs/plugin-<name>"})," (requires organization membership)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Unscoped"}),": ",(0,r.jsx)(n.code,{children:"a16n-plugin-<name>"})," (anyone can publish)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"a16n automatically discovers installed plugins matching these patterns."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/models/api",children:"Models API Reference"})," - Plugin interface documentation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/plugin-cursor",children:"Plugin: Cursor"})," - Cursor implementation details"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/plugin-claude",children:"Plugin: Claude"})," - Claude implementation details"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/understanding-conversions",children:"Understanding Conversions"})," - Type taxonomy"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/Texarkanine/a16n",children:"GitHub Repository"})," - Source code"]}),"\n"]})]})}function u(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);