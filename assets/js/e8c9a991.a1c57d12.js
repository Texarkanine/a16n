"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[2556],{26406(e,n,r){r.d(n,{R:()=>l,x:()=>o});var i=r(22155);let s={},t=i.createContext(s);function l(e){let n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(t.Provider,{value:n},e.children)}},42233(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});let i=JSON.parse('{"id":"plugin-a16n/index","title":"a16n IR Plugin Overview","description":"The @a16njs/plugin-a16n package enables reading and writing the a16n intermediate representation (IR) to/from disk in a human-readable, git-friendly format with versioned schema support.","source":"@site/.generated/plugin-a16n/index.md","sourceDirName":"plugin-a16n","slug":"/plugin-a16n/","permalink":"/a16n/plugin-a16n/","draft":false,"unlisted":false,"editUrl":"https://github.com/Texarkanine/a16n/tree/main/packages/docs/docs/.generated/plugin-a16n/index.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"default","permalink":"/a16n/plugin-claude/api/0.3.0/variables/default"},"next":{"title":"Changelog","permalink":"/a16n/plugin-a16n/changelog"}}');var s=r(65723),t=r(26406);let l={sidebar_position:6},o="a16n IR Plugin Overview",d={},a=[{value:"Why?",id:"why",level:2},{value:"Installation",id:"installation",level:2},{value:"Directory Structure",id:"directory-structure",level:2},{value:"File Format",id:"file-format",level:2},{value:"Frontmatter Fields",id:"frontmatter-fields",level:3},{value:"Supported Types",id:"supported-types",level:2},{value:"Discovery",id:"discovery",level:3},{value:"Emission",id:"emission",level:3},{value:"Version Compatibility",id:"version-compatibility",level:2},{value:"Programmatic Usage",id:"programmatic-usage",level:2},{value:"Dry Run",id:"dry-run",level:3},{value:"CLI Usage",id:"cli-usage",level:2},{value:"API Reference",id:"api-reference",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"a16n-ir-plugin-overview",children:"a16n IR Plugin Overview"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"@a16njs/plugin-a16n"})," package enables reading and writing the a16n intermediate representation (IR) to/from disk in a human-readable, git-friendly format with versioned schema support."]}),"\n",(0,s.jsx)(n.h2,{id:"why",children:"Why?"}),"\n",(0,s.jsxs)(n.p,{children:["The a16n IR format serves as a ",(0,s.jsx)(n.strong,{children:"hub format"})," - convert any supported format to IR, then store it and distribute it when you don't know which tool(s) consumers will be using."]}),"\n",(0,s.jsxs)(n.p,{children:["This is only marginally better than just choosing a single tool's format as your canonical format, and using ",(0,s.jsx)(n.code,{children:"a16n convert"})," to just translate normally - with the bonus that you don't have to worry about the version of the IR format on-disk."]}),"\n",(0,s.jsxs)(n.p,{children:["You'd only choose to convert ",(0,s.jsx)(n.code,{children:"--to a16n"})," and store the IR if you had multiple tools you wanted to support ",(0,s.jsx)(n.em,{children:"and"})," they had disjoint sets of supported features."]}),"\n",(0,s.jsxs)(n.p,{children:["For example consider ",(0,s.jsx)(n.a,{href:"/models#agentignore",children:"AgentIgnore"}),": currently, Cursor supports ",(0,s.jsx)(n.code,{children:".cursorignore"}),", but Codex does not have a tool-enforced exclude for file patterns. If you chose Codex as your canonical format, you wouldn't be able to store an AgentIgnore. Then, Cursor users wouldn't be able to run ",(0,s.jsx)(n.code,{children:"a16n convert --from codex --to cursor"})," to get a ",(0,s.jsx)(n.code,{children:".cursorignore"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["In contrast, if you stored an ",(0,s.jsx)(n.code,{children:"AgentIgnore"})," in the IR format, cursor users could run ",(0,s.jsx)(n.code,{children:"a16n convert --from a16n --to cursor"})," and get their ",(0,s.jsx)(n.code,{children:".cursorignore"}),", and Codex users who ran ",(0,s.jsx)(n.code,{children:"a16n convert --from a16n --to codex"})," would just see the upstream ",(0,s.jsx)(n.code,{children:"AgentIgnore"})," get skipped."]}),"\n",(0,s.jsx)(n.admonition,{title:"Rare & Unusual",type:"caution",children:(0,s.jsx)(n.p,{children:"This is unlikely to be a common use-case. Don't overthink it and don't marry yourself to this major-version-0 IR unless you're sure you know what you're doing!"})}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsxs)(n.p,{children:["This plugin is bundled with the ",(0,s.jsx)(n.code,{children:"a16n"})," CLI. For programmatic use:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install @a16njs/plugin-a16n\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"directory-structure",children:"Directory Structure"}),"\n",(0,s.jsxs)(n.p,{children:["The plugin reads/writes files in the ",(0,s.jsx)(n.code,{children:".a16n/"})," directory:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:".a16n/\n\u251C\u2500\u2500 global-prompt/\n\u2502   \u251C\u2500\u2500 coding-standards.md\n\u2502   \u2514\u2500\u2500 security-rules.md\n\u251C\u2500\u2500 file-rule/\n\u2502   \u2514\u2500\u2500 typescript-style.md\n\u251C\u2500\u2500 simple-agent-skill/\n\u2502   \u2514\u2500\u2500 code-review.md\n\u251C\u2500\u2500 agent-skill-io/\n\u2502   \u2514\u2500\u2500 deploy-helper/\n\u2502       \u251C\u2500\u2500 SKILL.md\n\u2502       \u2514\u2500\u2500 resources/\n\u251C\u2500\u2500 agent-ignore/\n\u2502   \u2514\u2500\u2500 build-artifacts.md\n\u2514\u2500\u2500 manual-prompt/\n    \u2514\u2500\u2500 generate-tests.md\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Each IR type gets its own subdirectory, and each item is a separate Markdown file. ",(0,s.jsx)(n.a,{href:"/models#agentskillio",children:"AgentSkillIO"})," items use subdirectories with the standard ",(0,s.jsx)(n.a,{href:"https://agentskills.io",children:"AgentSkills.io"})," format."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"file-format",children:"File Format"}),"\n",(0,s.jsx)(n.p,{children:"Each IR file contains YAML frontmatter with metadata and Markdown content:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-markdown",children:"---\nversion: v1beta1\ntype: global-prompt\nrelativeDir: shared/standards\n---\n\n# Coding Standards\n\nAlways follow these coding standards...\n"})}),"\n",(0,s.jsx)(n.h3,{id:"frontmatter-fields",children:"Frontmatter Fields"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"version"})," (required): IR version (e.g., ",(0,s.jsx)(n.code,{children:"v1beta1"}),") \u2014 ",(0,s.jsx)(n.a,{href:"https://kubernetes.io/docs/reference/using-api/#api-versioning",children:"Kubernetes-style versioning"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"type"})," (required): CustomizationType enum value (kebab-case) \u2014 see ",(0,s.jsx)(n.a,{href:"/models#customization-types",children:"Customization Types"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"relativeDir"})," (optional): Relative directory path for preserving structure"]}),"\n",(0,s.jsxs)(n.li,{children:["Type-specific fields (e.g., ",(0,s.jsx)(n.code,{children:"globs"})," for ",(0,s.jsx)(n.a,{href:"/models#filerule",children:"FileRule"}),", ",(0,s.jsx)(n.code,{children:"description"})," for ",(0,s.jsx)(n.a,{href:"/models#simpleagentskill",children:"SimpleAgentSkill"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The filename serves as the item's identifier \u2014 no separate ",(0,s.jsx)(n.code,{children:"name"})," field is needed."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"supported-types",children:"Supported Types"}),"\n",(0,s.jsx)(n.h3,{id:"discovery",children:"Discovery"}),"\n",(0,s.jsxs)(n.p,{children:["All six IR types are discoverable from ",(0,s.jsx)(n.code,{children:".a16n/"}),":"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"IR Type"}),(0,s.jsx)(n.th,{children:"Location"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/models#globalprompt",children:"GlobalPrompt"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".a16n/global-prompt/*.md"})}),(0,s.jsx)(n.td,{children:"Always-applied prompts"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/models#filerule",children:"FileRule"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".a16n/file-rule/*.md"})}),(0,s.jsx)(n.td,{children:"Glob-triggered rules"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/models#simpleagentskill",children:"SimpleAgentSkill"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".a16n/simple-agent-skill/*.md"})}),(0,s.jsx)(n.td,{children:"Description-triggered skills"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/models#agentskillio",children:"AgentSkillIO"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".a16n/agent-skill-io/*/SKILL.md"})}),(0,s.jsx)(n.td,{children:"Complex skills with resources"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/models#agentignore",children:"AgentIgnore"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".a16n/agent-ignore/*.md"})}),(0,s.jsx)(n.td,{children:"Exclusion patterns"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/models#manualprompt",children:"ManualPrompt"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".a16n/manual-prompt/*.md"})}),(0,s.jsx)(n.td,{children:"User-invoked prompts"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"emission",children:"Emission"}),"\n",(0,s.jsxs)(n.p,{children:["All six IR types can be emitted to ",(0,s.jsx)(n.code,{children:".a16n/"}),":"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"IR Type"}),(0,s.jsx)(n.th,{children:"Output"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/models#globalprompt",children:"GlobalPrompt"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".a16n/global-prompt/<name>.md"})}),(0,s.jsx)(n.td,{children:"YAML frontmatter + content"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/models#filerule",children:"FileRule"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".a16n/file-rule/<name>.md"})}),(0,s.jsxs)(n.td,{children:["Includes ",(0,s.jsx)(n.code,{children:"globs:"})," in frontmatter"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/models#simpleagentskill",children:"SimpleAgentSkill"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".a16n/simple-agent-skill/<name>.md"})}),(0,s.jsxs)(n.td,{children:["Includes ",(0,s.jsx)(n.code,{children:"description:"})," in frontmatter"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/models#agentskillio",children:"AgentSkillIO"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".a16n/agent-skill-io/<name>/"})}),(0,s.jsx)(n.td,{children:"Standard AgentSkills.io format"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/models#agentignore",children:"AgentIgnore"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".a16n/agent-ignore/<name>.md"})}),(0,s.jsxs)(n.td,{children:["Includes ",(0,s.jsx)(n.code,{children:"patterns:"})," in frontmatter"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/models#manualprompt",children:"ManualPrompt"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".a16n/manual-prompt/<name>.md"})}),(0,s.jsxs)(n.td,{children:["Includes ",(0,s.jsx)(n.code,{children:"promptName"})," via ",(0,s.jsx)(n.code,{children:"relativeDir"})]})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"version-compatibility",children:"Version Compatibility"}),"\n",(0,s.jsx)(n.p,{children:"The plugin uses Kubernetes-style version semantics:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Forward compatible"}),": A reader with version ",(0,s.jsx)(n.code,{children:"v1beta2"})," can read files with ",(0,s.jsx)(n.code,{children:"v1beta1"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Major version must match"}),": ",(0,s.jsx)(n.code,{children:"v1"})," is not compatible with ",(0,s.jsx)(n.code,{children:"v2"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Stability must match"}),": ",(0,s.jsx)(n.code,{children:"beta"})," is not compatible with ",(0,s.jsx)(n.code,{children:"alpha"})," or ",(0,s.jsx)(n.code,{children:"stable"})]}),"\n",(0,s.jsxs)(n.li,{children:["Files with incompatible versions are still processed but emit a ",(0,s.jsx)(n.code,{children:"VersionMismatch"})," warning"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"programmatic-usage",children:"Programmatic Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import a16nPlugin from '@a16njs/plugin-a16n';\nimport { A16nEngine } from '@a16njs/engine';\n\n// Create engine with a16n plugin\nconst engine = new A16nEngine([a16nPlugin]);\n\n// Discover IR files from .a16n/ directory\nconst result = await a16nPlugin.discover('./my-project');\nconsole.log(`Found ${result.items.length} items`);\n\nfor (const item of result.items) {\n  console.log(`  ${item.type}: ${item.sourcePath}`);\n}\n\n// Emit to IR format\nconst items = [/* AgentCustomization items */];\nconst emitResult = await a16nPlugin.emit(items, './my-project');\nconsole.log(`Wrote ${emitResult.written.length} files`);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"dry-run",children:"Dry Run"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Calculate what would be written without writing\nconst emitResult = await a16nPlugin.emit(items, './my-project', {\n  dryRun: true,\n});\n\nfor (const file of emitResult.written) {\n  console.log(`Would write: ${file.path}`);\n}\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"cli-usage",children:"CLI Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Convert from another format to IR\na16n convert --from cursor --to a16n\na16n convert --from claude --to a16n\n\n# Convert from IR to another format\na16n convert --from a16n --to cursor\na16n convert --from a16n --to claude\n\n# Discover IR files\na16n discover --from a16n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The a16n IR format serves as a ",(0,s.jsx)(n.strong,{children:"hub format"})," \u2014 convert any supported format to IR, then from IR to any other format. This enables cross-format workflows without direct format-to-format conversion logic."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,s.jsxs)(n.p,{children:["For complete plugin API details, see the ",(0,s.jsx)(n.a,{href:"/plugin-a16n/api",children:"Plugin a16n API Reference"}),"."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/plugin-a16n/api",children:"Plugin a16n API Reference"})," - Complete API documentation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/understanding-conversions",children:"Understanding Conversions"})," - Conversion details"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/models",children:"Models"})," - Type definitions"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);